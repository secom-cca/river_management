{UTF-8}
Levee construction time=
	5
	~	
	~		|

Levee investment=
	Time * 0.1
	~	
	~		|

Levee level=
	DELAY FIXED( Levee construction time , Levee investment , 1.2 )
	~	
	~		|

Dam level=
	100 + Dam level increase
	~	
	~		|

Dam level increase=
	DELAY FIXED( Dam investment , Dam construction time , 0 )
	~	
	~		|

Municipality cost=
	Green infrastructure cost+Infrastructure Cost
	~	
	~		|

CO2 absorption=
	Forest area*CO2 absorption per area
	~	
	~		|

CO2 absorption per area=
	0.1
	~	
	~		|

Dam construction time=
	5
	~	
	~		|

Dam investment = WITH LOOKUP (
	Time,
		 ([(0,0)-(100,10)],(0,0),(20,0),(21,10),(22,0),(100,0) ))
	~	
	~		|

Green infrastructure cost=
	Number of planting trees*Unit cost of planting trees
	~	
	~		|

Unit cost of planting trees=
	1
	~	
	~		|

Inflow of trees=
	DELAY FIXED( Number of planting trees , Tree growth time , 0 )
	~	
	~		|

Tree die ratio=
	0.01
	~	
	~		|

Infrastructure Cost=
	Dam investment+Levee investment
	~	
	~		|

Forest area= INTEG (
	Inflow of trees-Outflow of trees,
		100)
	~	
	~		|

Outflow of trees=
	Forest area*Tree die ratio+Number of lumbering trees
	~	
	~		|

Number of planting trees = WITH LOOKUP (
	Time,
		  ([(0,0)-(100,10)],(0,0),(1,10),(10,10),(11,0),(100,0) ))
	~	
	~		|

Tree growth time=
	40
	~	
	~		|

Upstream storage capacity=
	1000 + Dam level + 100 * Forest area
	~	
	~		|

Number of lumbering trees=
	10
	~	
	~		|

Biodiversity=
	100 - (Dam level + Levee level)
	~	
	~		|

Annual crop production=
	Paddy field * Paddy field productivity
	~	
	~		|

Literacy of residents=
	1
	~	
	~		|

Average annual precipitation=
	1000 + 0 * Time
	~	
	~		|

Average annual temperature=
	20 + 0.1 * Time
	~	
	~		|

Outflow rate of residents=
	0.02
	~	
	~		|

Damaged paddy field=
	IF THEN ELSE( Flood > 0 , Paddy field * Ratio of paddy field in risky area , 0 )
	~	
	~		|

Paddy field= INTEG (
	Inflow of paddy field-Outflow of paddy field,
		100)
	~	
	~		|

Discharge allowance=
	2000 * Levee level
	~	
	~		|

Downstream inflow=
	Annual precipitation
	~	
	~		|

Downstream outflow=
	Downstream storage - Downstream storage capacity
	~	
	~		|

Downstream storage= INTEG (
	Downstream inflow-Downstream outflow,
		1000)
	~	
	~		|

Downstream storage capacity=
	1000 + Paddy field * Paddy dam ratio
	~	
	~		|

Financial Damage=
	Damage per resident * Damaged residents
	~	
	~		|

Flood=
	IF THEN ELSE( River discharge > Discharge allowance , 1 , 0 )
	~	
	~		|

GDP per resident=
	10000
	~	
	~		|

Inflow of paddy field=
	DELAY1( Damaged paddy field , Paddy field recovery time )
	~	
	~		|

Inflow of residents=
	DELAY1( Damaged residents , Residents recovery time ) + Residents * Inflow rate of residents
	~	
	~		|

Inflow rate of residents=
	0.01
	~	
	~		|

"pre-discharge amount"=
	"Maximum pre-discharge amount"
	~	
	~		|

Ratio of paddy field in risky area=
	0.5
	~	
	~		|

"Maximum pre-discharge amount"=
	10
	~	
	~		|

Outflow of paddy field=
	Damaged paddy field
	~	
	~		|

Outflow of residents=
	Damaged residents + Residents * Outflow rate of residents
	~	
	~		|

River discharge=
	Downstream outflow + Upstream outflow
	~	
	~		|

Paddy dam ratio=
	0.9
	~	
	~		|

Upstream inflow=
	Annual precipitation
	~	
	~		|

Paddy field productivity=
	IF THEN ELSE( Average annual temperature < 25 , 1 , 0.9 )
	~	
	~		|

Paddy field recovery time=
	1 / Literacy of residents
	~	
	~		|

Total GDP=
	Residents * GDP per resident + Annual crop production - Financial Damage
	~	
	~		|

Residents recovery time=
	1 / Literacy of residents
	~	
	~		|

Upstream outflow=
	Upstream storage - Upstream storage capacity + "pre-discharge amount"
	~	
	~		|

Upstream storage= INTEG (
	Upstream inflow-Upstream outflow,
		1000)
	~	
	~		|

Damage per resident=
	100
	~	
	~		|

Damaged residents=
	Residents*Ratio of residents in risky area*Flood
	~	
	~		|

Annual precipitation=
	RANDOM NORMAL( 
	Average annual precipitation - 2 * Annual variance of precipitation, 
	Average annual precipitation + 2 * Annual variance of precipitation, 
	Average annual precipitation, 
	Annual variance of precipitation, 
	0
	)
	~	
	~		|

Ratio of residents in risky area=
	0.5
	~	
	~		|

Residents= INTEG (
	Inflow of residents-Outflow of residents,
		10000)
	~	
	~		|

Annual variance of precipitation=
	100+1*Time
	~	
	~		|

********************************************************
	.Control
********************************************************~
		Simulation Control Parameters
	|

FINAL TIME  = 100
	~	Year
	~	The final time for the simulation.
	|

INITIAL TIME  = 0
	~	Year
	~	The initial time for the simulation.
	|

SAVEPER  = 
        TIME STEP
	~	Year [0,?]
	~	The frequency with which output is stored.
	|

TIME STEP  = 1
	~	Year [0,?]
	~	The time step for the simulation.
	|

\\\---/// Sketch information - do not modify anything except names
V300  Do not put anything below this section - it will be ignored
*View 1
$-1--1--1,0,|12||-1--1--1|-1--1--1|-1--1--1|-1--1--1|-1--1--1|96,96,100,0
10,1,Residents,1015,430,42,22,3,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,2,48,850,430,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,3,5,2,100,0,0,22,0,192,0,-1--1--1,,1|(881,430)|
1,4,5,1,4,0,0,22,0,192,0,-1--1--1,,1|(944,430)|
11,5,0,909,430,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,6,Inflow of residents,909,460,42,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,7,48,1182,425,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,8,10,1,100,0,0,22,0,192,0,-1--1--1,,1|(1084,425)|
1,9,10,7,4,0,0,22,0,192,0,-1--1--1,,1|(1147,425)|
11,10,0,1117,425,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,11,Outflow of residents,1117,455,44,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,12,Flood,810,333,44,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,13,Damaged residents,968,332,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,14,Ratio of residents in risky area,1009,233,58,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,15,1,13,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,16,14,13,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,17,12,13,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,18,Damage per resident,1236,264,58,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,19,Annual precipitation,425,378,61,21,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,20,19,38,1,0,0,0,0,192,0,-1--1--1,,1|(384,285)|
10,21,Annual variance of precipitation,244,384,56,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,22,Average annual precipitation,240,453,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,23,21,19,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,24,22,19,1,0,0,0,0,192,0,-1--1--1,,1|(336,447)|
10,25,Discharge allowance,848,254,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,26,25,12,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,27,Time,61,387,27,9,8,2,0,3,-1,0,0,0,128-128-128,0-0-0,|||128-128-128,0,0,0,0,0,0
1,28,27,21,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,29,Dam level,624,132,38,12,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,30,"pre-discharge amount",712,275,66,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,31,29,78,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,32,30,43,1,0,0,0,0,192,0,-1--1--1,,1|(620,285)|
10,33,Upstream storage,442,246,61,22,3,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,34,48,281,244,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,35,37,34,100,0,0,22,0,192,0,-1--1--1,,1|(304,244)|
1,36,37,33,4,0,0,22,0,192,0,-1--1--1,,1|(355,244)|
11,37,0,324,244,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,38,Upstream inflow,324,275,44,23,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,39,48,556,268,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,40,42,33,100,0,0,22,0,192,0,-1--1--1,,1|(526,245)|
1,41,42,39,4,0,0,22,0,192,0,-1--1--1,,1|(556,256)|
11,42,0,556,245,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,43,Upstream outflow,556,276,44,23,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,44,River discharge,651,331,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,45,33,43,1,0,0,0,0,192,0,-1--1--1,,1|(544,214)|
1,46,43,44,1,0,0,0,0,192,0,-1--1--1,,1|(584,316)|
1,47,44,12,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,48,Paddy dam ratio,347,596,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,49,Levee level,908,167,48,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,50,27,22,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,51,Residents recovery time,701,589,56,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,52,Literacy of residents,445,663,48,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,53,52,51,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,54,49,25,1,0,0,0,0,192,0,-1--1--1,,1|(864,199)|
10,55,"Maximum pre-discharge amount",760,209,71,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,56,55,30,1,0,0,0,0,192,0,-1--1--1,,1|(758,266)|
10,57,Downstream storage,490,482,44,22,3,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,58,48,324,481,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,59,67,58,100,0,0,22,0,192,0,-1--1--1,,1|(360,481)|
1,60,67,57,4,0,0,22,0,192,0,-1--1--1,,1|(422,481)|
12,61,48,686,477,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,62,69,57,100,0,0,22,0,192,0,-1--1--1,,1|(568,477)|
1,63,69,61,4,0,0,22,0,192,0,-1--1--1,,1|(645,477)|
1,64,19,68,1,0,0,0,0,192,0,-1--1--1,,1|(449,417)|
1,65,69,44,1,0,0,0,0,192,0,-1--1--1,,1|(618,415)|
1,66,48,80,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
11,67,0,393,481,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,68,Downstream inflow,393,511,44,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
11,69,0,608,477,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,70,Downstream outflow,608,507,44,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,71,Paddy field productivity,864,784,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,72,Annual crop production,1216,712,48,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,73,71,72,1,0,0,0,0,192,0,-1--1--1,,1|(1051,787)|
10,74,Damaged paddy field,893,580,56,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,75,12,74,1,0,0,0,0,192,0,-1--1--1,,1|(743,449)|
1,76,74,87,1,0,0,0,0,192,0,-1--1--1,,1|(964,614)|
10,77,Paddy field,862,686,48,22,3,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,78,Upstream storage capacity,416,143,42,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,79,78,42,1,0,0,0,0,192,0,-1--1--1,,1|(570,165)|
10,80,Downstream storage capacity,492,571,44,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,81,80,70,1,0,0,0,0,192,0,-1--1--1,,1|(579,570)|
1,82,57,70,1,0,0,0,0,192,0,-1--1--1,,1|(555,543)|
12,83,48,1041,686,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,84,86,77,100,0,0,22,0,192,0,-1--1--1,,1|(937,686)|
1,85,86,83,4,0,0,22,0,192,0,-1--1--1,,1|(1003,686)|
11,86,0,970,686,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,87,Outflow of paddy field,970,716,48,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,88,77,72,1,0,0,0,0,192,0,-1--1--1,,1|(1035,757)|
12,89,48,710,681,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,90,92,89,100,0,0,22,0,192,0,-1--1--1,,1|(740,681)|
1,91,92,77,4,0,0,22,0,192,0,-1--1--1,,1|(793,681)|
11,92,0,767,681,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,93,Inflow of paddy field,767,711,48,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,94,GDP per resident,1224,646,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,95,77,80,1,0,0,0,0,192,0,-1--1--1,,1|(640,634)|
10,96,Average annual temperature,195,783,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,97,96,71,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,98,27,96,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,99,13,10,1,0,0,0,0,192,0,-1--1--1,,1|(1051,372)|
1,100,77,74,1,0,0,0,0,192,0,-1--1--1,,1|(876,625)|
10,101,Ratio of paddy field in risky area,1067,626,61,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,102,101,74,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,103,Total GDP,1367,447,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,104,1,103,1,0,0,0,0,192,0,-1--1--1,,1|(1219,592)|
1,105,94,103,1,0,0,0,0,192,0,-1--1--1,,1|(1340,601)|
1,106,13,6,1,0,0,0,0,192,0,-1--1--1,,1|(920,392)|
1,107,51,6,1,0,0,0,0,192,0,-1--1--1,,1|(795,511)|
10,108,Paddy field recovery time,617,710,56,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,109,108,93,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,110,74,93,1,0,0,0,0,192,0,-1--1--1,,1|(795,650)|
10,111,Financial Damage,1146,341,42,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,112,18,111,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,113,13,111,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,114,111,103,1,0,0,0,0,192,0,-1--1--1,,1|(1241,359)|
1,115,72,103,1,0,0,0,0,192,0,-1--1--1,,1|(1375,616)|
1,116,52,108,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,117,Inflow rate of residents,908,530,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,118,117,6,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,119,1,6,1,0,0,0,0,192,0,-1--1--1,,1|(991,486)|
10,120,Outflow rate of residents,1221,524,52,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,121,1,11,1,0,0,0,0,192,0,-1--1--1,,1|(1112,468)|
1,122,120,11,1,0,0,0,0,192,0,-1--1--1,,1|(1122,459)|
10,123,Biodiversity,1114,167,52,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,124,49,123,1,0,0,0,0,192,0,-1--1--1,,1|(942,126)|
1,125,29,123,1,0,0,0,0,192,0,-1--1--1,,1|(914,132)|
10,126,Forest area,158,118,48,22,3,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,127,48,41,117,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,128,130,127,100,0,0,22,0,192,0,-1--1--1,,1|(58,117)|
1,129,130,126,4,0,0,22,0,192,0,-1--1--1,,1|(93,117)|
11,130,0,71,117,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,131,Inflow of trees,71,147,42,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
12,132,48,286,117,10,8,0,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,133,135,126,100,0,0,22,0,192,0,-1--1--1,,1|(219,117)|
1,134,135,132,4,0,0,22,0,192,0,-1--1--1,,1|(260,117)|
11,135,0,238,117,6,8,34,3,0,0,1,0,0,0,0,0,0,0,0,0
10,136,Outflow of trees,238,147,44,22,40,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,137,126,78,1,0,0,0,0,192,0,-1--1--1,,1|(325,89)|
1,138,126,136,1,0,0,0,0,192,0,-1--1--1,,1|(224,181)|
10,139,Tree growth time,182,233,48,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,140,139,131,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,141,Number of planting trees,64,247,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,142,141,131,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,143,Number of lumbering trees,336,197,52,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,144,143,136,1,0,0,0,0,192,0,-1--1--1,,1|(319,160)|
10,145,Tree die ratio,161,287,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,146,145,136,1,0,0,0,0,192,0,-1--1--1,,1|(258,246)|
1,147,27,141,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,148,CO2 absorption per area,323,7,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,149,CO2 absorption,482,62,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,150,126,149,1,0,0,0,0,192,0,-1--1--1,,1|(297,61)|
1,151,148,149,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,152,Green infrastructure cost,725,-44,61,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,153,141,152,1,0,0,0,0,192,0,-1--1--1,,1|(316,-47)|
10,154,Unit cost of planting trees,539,-4,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,155,154,152,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,156,Infrastructure Cost,876,-6,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,157,Dam investment,715,13,61,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,158,157,156,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,159,Levee investment,883,82,44,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,160,159,156,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,161,159,49,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,162,Dam construction time,801,59,52,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
10,163,Levee construction time,965,50,52,23,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,164,163,49,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,165,Municipality cost,975,-68,52,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,166,152,165,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,167,156,165,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,168,27,157,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,169,27,159,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
10,170,Dam level increase,706,78,52,22,8,3,0,0,-1,0,0,0,0,0,0,0,0,0
1,171,157,170,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,172,162,170,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
1,173,170,29,0,0,0,0,0,192,0,-1--1--1,,1|(0,0)|
///---\\\
:L<%^E!@
1:current.vdfx
4:Time
5:Dam level
9:current
19:100,0
24:0
25:100
26:100
23:0
15:0,0,0,0,0,0
27:0,
34:0,
42:0
72:0
73:0
95:0
96:0
97:0
77:0
78:0
102:1
93:0
94:0
92:0
91:0
90:0
87:0
75:
43:
103:8,8,8,3,8
105:0,0,0,0,0,0,0,0,0,0
104:Courier|12||0-0-0|0-0-0|-1--1--1|0-0-255|192-192-192|-1--1--1
